service: aws-s3cp-bulk
frameworkVersion: "=1.25.0"

provider:
  name: aws
  runtime: nodejs6.10
  region: ${opt:region, 'eu-west-1'}
  memorySize: 128
  timeout: 30

package:
  exclude:
    - tests/**
    - .circleci/**

functions:
  copy:
    handler: handler.cp
  bulk_copy:
    handler: handler.bulk_cp
    iamRoleStatements:
      - Effect: Allow
        Action:
          lambda:InvokeFunction
        Resource: arn:aws:lambda:eu-west-1:006483271430:function:aws-s3cp-bulk-production-copy
