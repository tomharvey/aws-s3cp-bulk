service: aws-s3cp-bulk
frameworkVersion: "=1.25.0"

provider:
  name: aws
  runtime: nodejs6.10
  region: ${opt:region, 'eu-west-1'}
  memorySize: 128
  timeout: 30
  iamRoleStatements:
    - Effect: Allow
      Action:
        - lambda:InvokeFunction
      Resource: "arn:aws:lambda:eu-west-1:006483271430:function:aws-s3cp-bulk-production-copy"
    - Effect: Allow
      Action:
        - s3:*
      Resource: "arn:aws:aws-s3cp-bulk-006483271430-testfixturesbucket/*"


package:
  exclude:
    - tests/**
    - .circleci/**

functions:
  copy:
    handler: handler.cp
  manager:
    handler: handler.manager
